document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-carousel]").forEach(e=>{const t=e.querySelector("[data-carousel-track]"),a=t?Array.from(t.children):[],r=e.querySelector("[data-carousel-dots]"),s=e.querySelector("[data-carousel-prev]"),n=e.querySelector("[data-carousel-next]"),o=e.querySelector("[data-carousel-viewport]"),l=e.dataset.carouselLabel||"items";if(!t||0===a.length||!r)return;e.classList.add("is-ready");let c=0;const d=()=>{const t=getComputedStyle(e).getPropertyValue("--carousel-items"),a=parseInt(t,10);return Number.isNaN(a)?1:a},i=()=>{const e=d();return Math.max(0,a.length-e)},u=()=>{const e=i();if(s){const t=c<=0||0===e;s.disabled=t,s.setAttribute("aria-disabled",t?"true":"false")}if(n){const t=c>=e||0===e;n.disabled=t,n.setAttribute("aria-disabled",t?"true":"false")}},f=()=>{Array.from(r.children).forEach((e,t)=>{const a=t===c;e.classList.toggle("is-active",a),e.setAttribute("aria-pressed",a?"true":"false")})},m=()=>{const e=d(),r=Math.max(0,a.length-e);c>r&&(c=r),c<0&&(c=0);const s=a[c],n=s?s.offsetLeft:0,l=o?t.scrollWidth-o.offsetWidth:t.scrollWidth,m=Math.max(0,Math.min(n,Math.max(0,l)));t.style.transform=`translateX(-${m}px)`,f(),u()},p=()=>{r.innerHTML="";const e=d(),t=i()+1;for(let s=0;s<t;s+=1){const t=document.createElement("button");t.type="button",t.className="carousel-dot";const n=s*e+1,o=Math.min(a.length,n+e-1);t.setAttribute("aria-label",`Show ${l} ${n} to ${o}`),t.addEventListener("click",()=>{c=s,m()}),r.appendChild(t)}};s&&s.addEventListener("click",()=>{c>0&&(c-=1,m())}),n&&n.addEventListener("click",()=>{c<i()&&(c+=1,m())}),p(),m(),window.addEventListener("resize",()=>{p(),m()})})});
