document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-carousel]").forEach(e=>{const t=e.querySelector("[data-carousel-track]"),a=t?Array.from(t.children):[],s=e.querySelector("[data-carousel-dots]"),r=e.querySelector("[data-carousel-viewport]"),n=e.querySelector("[data-carousel-prev]"),o=e.querySelector("[data-carousel-next]"),c=e.dataset.carouselLabel||"items";if(!t||0===a.length||!s)return;e.classList.add("is-ready");let l=0;const d=()=>{const t=getComputedStyle(e).getPropertyValue("--carousel-items"),a=parseInt(t,10);return Number.isNaN(a)?1:a},i=()=>{const e=d();return Math.max(0,a.length-e)},u=()=>{const e=d(),c=Math.max(0,a.length-e);l>c&&(l=c),l<0&&(l=0);const u=a[l],h=u?u.offsetLeft:0,m=r?t.scrollWidth-r.offsetWidth:t.scrollWidth,f=Math.max(0,Math.min(h,Math.max(0,m)));t.style.transform=`translateX(-${f}px)`,Array.from(s.children).forEach((e,t)=>{const a=t===l;e.classList.toggle("is-active",a),e.setAttribute("aria-pressed",a?"true":"false")}),(()=>{const e=i();if(n){const t=l<=0||0===e;n.disabled=t,n.setAttribute("aria-disabled",t?"true":"false")}if(o){const t=l>=e||0===e;o.disabled=t,o.setAttribute("aria-disabled",t?"true":"false")}})()},h=()=>{s.innerHTML="";const e=d(),t=i()+1;for(let r=0;r<t;r+=1){const t=document.createElement("button");t.type="button",t.className="carousel-dot";const n=r*e+1,o=Math.min(a.length,n+e-1);t.setAttribute("aria-label",`Show ${c} ${n} to ${o}`),t.addEventListener("click",()=>{l=r,u()}),s.appendChild(t)}};n&&n.addEventListener("click",()=>{l>0&&(l-=1,u())}),o&&o.addEventListener("click",()=>{l<i()&&(l+=1,u())});let m=0,f=0;const b=e=>{m=e.changedTouches[0].screenX},y=e=>{f=e.changedTouches[0].screenX,L()},L=()=>{const e=m-f;Math.abs(e)<50||(e>0&&l<i()?(l+=1,u()):e<0&&l>0&&(l-=1,u()))};r&&(r.addEventListener("touchstart",b,{passive:!0}),r.addEventListener("touchend",y,{passive:!0})),h(),u(),window.addEventListener("resize",()=>{h(),u()})})});