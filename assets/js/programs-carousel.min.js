document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("[data-carousel]").forEach(e=>{const t=e.querySelector("[data-carousel-track]"),a=t?Array.from(t.children):[],r=e.querySelector("[data-carousel-dots]"),s=e.querySelector("[data-carousel-prev]"),n=e.querySelector("[data-carousel-next]"),o=e.dataset.carouselLabel||"items";if(!t||0===a.length||!r)return;e.classList.add("is-ready");let l=0;const c=()=>{const t=getComputedStyle(e).getPropertyValue("--carousel-items"),a=parseInt(t,10);return Number.isNaN(a)?1:a},d=()=>{const e=c();return Math.max(0,a.length-e)},i=()=>{const e=c(),o=Math.max(0,a.length-e);l>o&&(l=o),l<0&&(l=0);const i=a[l],u=i?i.offsetLeft:0;t.style.transform=`translateX(-${u}px)`,Array.from(r.children).forEach((e,t)=>{const a=t===l;e.classList.toggle("is-active",a),e.setAttribute("aria-pressed",a?"true":"false")}),(()=>{const e=d();if(s){const t=l<=0||0===e;s.disabled=t,s.setAttribute("aria-disabled",t?"true":"false")}if(n){const t=l>=e||0===e;n.disabled=t,n.setAttribute("aria-disabled",t?"true":"false")}})()},u=()=>{r.innerHTML="";const e=c(),t=d()+1;for(let s=0;s<t;s+=1){const t=document.createElement("button");t.type="button",t.className="carousel-dot";const n=s*e+1,c=Math.min(a.length,n+e-1);t.setAttribute("aria-label",`Show ${o} ${n} to ${c}`),t.addEventListener("click",()=>{l=s,i()}),r.appendChild(t)}};s&&s.addEventListener("click",()=>{l>0&&(l-=1,i())}),n&&n.addEventListener("click",()=>{l<d()&&(l+=1,i())}),u(),i(),window.addEventListener("resize",()=>{u(),i()})})});